# Schemas


## user

- id: int
- username: text
- password: text
- is_admin: boolean
- annual_leave_balance: int
- created_by_user_id: int
- created_at: timestamp
- modified_by_user_id: int
- modified_at: timestamp

* primary(id)
* unique(username)
* index(is_admin)


## leave_application

- id: int
- applied_by_user_id: int
- leave_type: int
- from: timestamp
- to: timestamp
- reason: text
- status: int
- created_by_user_id: int
- created_at: timestamp
- modified_by_user_id: int
- modified_at: timestamp

* primary(id)
* foreign(applied_by_user_id, user.id)
* index(applied_by_user_id, from, to)
* foreign(leave_type, leave_type_enum.id)
* index(leave_type)
* index(from, to)
* foreign(status, leave_application_status_enum.id)
* index(status)
* foreign(created_by_user_id, user.id)
* foreign(modified_by_user_id, user.id)


## leave_application_status_log

- id: int
- belongs_to_leave_application_id: int
- status: int
- note: text
- created_by_user_id: int
- created_at: timestamp

* primary(id)
* foreign(belongs_to_leave_application_id, leave_application.id)
* index(belongs_to_leave_application_id, created_at)
* foreign(status, leave_application_status_enum.id)
* foreign(created_by_user_id, user.id)


## annual_leave_balance_transaction

- id: int
- belongs_to_user_id: int
- amount: int
- balance: int
- refer_to_leave_application_id: int
- note: text
- created_by_user_id: int
- created_at: timestamp

* primary(id)
* foreign(belongs_to_user_id, user.id)
* index(belongs_to_user_id, created_at)
* foreign(refer_to_leave_appilcation_id, leave_application.id)
* foreign(created_by_user_id, user.id)


## holiday

- id: int
- name: text
- date: date
- created_by_user_id: int
- created_at: timestamp
- modified_by_user_id: int
- modified_at: timestamp

* primary(id)
* index(date)
* foreign(created_by_user_id, user.id)
* foreign(modified_by_user_id, user.id)


## leave_type_enum

1. Annual Leave
2. Sick Leave
3. Unpaid Leave
4. Maternity Leave


## leave_application_status_enum

1. Pending
2. Approved
3. Rejected
4. Cancelled

